<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>স্পেশাল ঝালমুড়ি মশলা - eFoodDokan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popIn { 0% { transform: scale(0.6); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        @keyframes pulse-shadow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.8); }
            70% { box-shadow: 0 0 0 25px rgba(220, 38, 38, 0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans Bengali', sans-serif;
            background-color: #f0fdf4;
            background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%2322c55e" fill-opacity="0.04"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
        }

        .animated-section { opacity: 0; animation: slideInUp 1s ease-out forwards; }
        .btn-order {
            background-image: linear-gradient(to right, #f59e0b 0%, #ef4444 51%, #f59e0b 100%);
            box-shadow: 0 5px 25px rgba(239, 68, 68, 0.4);
            transition: all 0.4s ease-in-out;
            background-size: 200% auto;
            animation: pulse-shadow 2.5s infinite;
        }
        .btn-order:hover {
            background-position: right center;
            transform: translateY(-6px) scale(1.05);
            box-shadow: 0 10px 35px rgba(239, 68, 68, 0.5);
            animation: none;
        }
        .btn-submit {
            background-image: linear-gradient(to right, #16a34a 0%, #15803d 51%, #16a34a 100%);
            box-shadow: 0 5px 25px rgba(22, 163, 74, 0.4);
            transition: all 0.4s ease-in-out;
            background-size: 200% auto;
        }
        .btn-submit:hover:not(:disabled) {
            background-position: right center;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(22, 163, 74, 0.5);
        }
        .btn-submit:disabled {
            background-image: none; background-color: #9ca3af;
            box-shadow: none; cursor: not-allowed; transform: none;
        }
        .input-field {
            background-color: #f0fdf4; border: 2px solid #a7f3d0; transition: all 0.3s ease;
        }
        .input-field:focus {
            border-color: #10b981; box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2);
            background-color: #fff; transform: scale(1.02);
        }
        .modal-content { animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
        .testimonial-card {
            background: #ffffff;
            border-left: 5px solid #f59e0b;
        }
        .google-btn {
            background-color: #4285F4;
            color: white;
            transition: all 0.3s;
        }
        .google-btn:hover {
            background-color: #357ABD;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 133, 244, 0.4);
        }
        .user-avatar {
            transition: all 0.3s;
        }
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.5);
        }
        .floating-badge {
            animation: float 3s ease-in-out infinite;
        }
        
        /* Print styles */
        @media print {
            body * { visibility: hidden; }
            #printable-receipt, #printable-receipt * { visibility: visible; }
            #printable-receipt {
                position: absolute; left: 0; top: 0; width: 100%;
                padding: 2rem; border: 2px solid #000;
            }
            .no-print { display: none; }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[1000]" style="display: none;">
        <div class="modal-content w-11/12 max-w-md bg-white rounded-3xl shadow-2xl relative p-8">
            <button id="closeLoginModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 text-2xl">&times;</button>
            <div class="text-center">
                <img src="https://i.postimg.cc/qRSXYFQJ/chalmuri-masla-800x800.webp" alt="লোগো" class="w-20 h-20 rounded-full border-4 border-amber-500 mx-auto mb-4">
                <h2 class="text-3xl font-extrabold text-gray-800 mb-2">অর্ডার করতে লগইন করুন</h2>
                <p class="text-gray-600 mb-6">আপনার অর্ডার হিস্টোরি সংরক্ষণ এবং একাধিক পণ্য অর্ডার করতে গুগল অ্যাকাউন্ট দিয়ে লগইন করুন</p>
                
                <button id="googleLoginBtn" class="google-btn py-3 px-6 rounded-full font-bold text-lg w-full flex items-center justify-center mb-4">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" class="w-6 h-6 mr-3 bg-white p-1 rounded-full">
                    গুগল দিয়ে লগইন করুন
                </button>
                
                <p class="text-sm text-gray-500">লগইন করে আপনি আমাদের <a href="#" class="text-amber-600">শর্তাবলী</a> এবং <a href="#" class="text-amber-600">গোপনীয়তা নীতি</a> মেনে নিচ্ছেন</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-lg shadow-xl sticky top-0 z-50 rounded-b-3xl">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center py-4">
            <div class="flex items-center space-x-3">
                <img src="https://i.postimg.cc/qRSXYFQJ/chalmuri-masla-800x800.webp" alt="লোগো" class="w-12 h-12 rounded-full border-2 border-amber-500">
                <h1 class="text-3xl font-extrabold text-gray-800">eFoodDokan</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div id="userProfile" class="hidden flex items-center space-x-2">
                    <img id="userAvatar" src="https://placehold.co/40x40/e2e8f0/334155?text=?" class="rounded-full border-2 border-amber-400 cursor-pointer user-avatar">
                    <span id="userName" class="font-medium hidden md:inline"></span>
                    <button id="logoutBtn" class="text-red-500 hover:text-red-700 text-sm hidden md:inline" title="লগআউট">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <button id="loginBtn" class="bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-full font-medium transition-colors">
                    <i class="fas fa-user mr-2"></i> লগইন
                </button>
                <a href="#orderHistorySection" class="text-gray-600 hover:text-amber-600 transition-colors" title="অর্ডার হিস্টোরি">
                    <i class="fas fa-history fa-lg"></i>
                </a>
                <a href="#whyUsSection" class="text-gray-600 hover:text-amber-600 transition-colors hidden md:inline" title="কেন সেরা?">
                    <i class="fas fa-award fa-lg"></i>
                </a>
                <div class="flex items-center space-x-2 text-green-700 font-bold text-lg">
                    <i class="fas fa-truck-fast fa-beat"></i>
                    <span class="hidden md:inline">ফ্রি ডেলিভারি!</span>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 mb-20 space-y-20">

        <!-- Hero Section -->
        <section class="text-center animated-section">
            <div class="relative">
                <span class="floating-badge bg-red-500 text-white text-sm font-bold py-1 px-3 rounded-full absolute -top-4 -right-4 transform rotate-12">বিশেষ ছাড়!</span>
                <h2 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight">
                    সেই চিরচেনা স্বাদ, এখন <span class="text-amber-600">আপনার রান্নাঘরে!</span>
                </h2>
            </div>
            <p class="mt-5 max-w-3xl mx-auto text-xl text-gray-600">
                আমাদের হাতে তৈরি স্পেশাল গরুর কিমার ঝালমুড়ি মশলা দিয়ে ঘরেই উপভোগ করুন রাস্তার সেই পাগল করা স্বাদ। স্বাস্থ্যকর এবং কেমিক্যালমুক্ত, স্বাদে অতুলনীয়।
            </p>
            <div class="mt-10">
                <button id="orderNowBtn" class="btn-order text-white py-4 px-12 rounded-full font-bold text-2xl inline-block">
                    <i class="fas fa-shopping-basket fa-bounce mr-3"></i>
                    এখনই অর্ডার করুন
                </button>
                <p class="mt-5 text-3xl font-bold">বিশেষ ছাড়ে মাত্র <span class="text-green-600">৳১,১৯০</span> <del class="text-gray-400 text-xl">৳১,৫০০</del></p>
            </div>
            <img src="https://i.postimg.cc/rmKNfT1Z/Jhalmuri-Mosla.webp" alt="ঝালমুড়ি মশলার আকর্ষণীয় ছবি" class="mt-10 rounded-3xl shadow-2xl w-full max-w-4xl mx-auto transform hover:scale-105 transition-transform duration-500">
        </section>
        
        <!-- Why Us Section -->
        <section id="whyUsSection" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl animated-section">
            <h3 class="text-4xl font-extrabold text-center mb-12">কেন আমাদের মশলাই সেরা?</h3>
            <div class="space-y-8">
                <div class="flex flex-col md:flex-row items-start gap-6">
                    <div class="bg-amber-100 text-amber-600 text-3xl rounded-full w-20 h-20 flex-shrink-0 flex items-center justify-center"><i class="fas fa-question"></i></div>
                    <div>
                        <h4 class="text-2xl font-bold">বাজারের সাধারণ মশলার সাথে এর পার্থক্য কী?</h4>
                        <p class="mt-2 text-lg text-gray-700">আমরা কোনো বাণিজ্যিক বা রেডিমেড মশলা ব্যবহার করি না। প্রতিটি উপাদান, যেমন—জিরা, ধনিয়া, এলাচ, দারুচিনি ইত্যাদি বাছাই করে, পরিষ্কার করে, মেপে এবং নিজেদের তত্ত্বাবধানে গুঁড়ো করে সঠিক অনুপাতে মেশানো হয়। সাথে থাকে বাছাই করা গরুর মাংসের কিমা, যা এই মশলাকে দিয়েছে এক রাজকীয় স্বাদ।</p>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row items-start gap-6">
                    <div class="bg-green-100 text-green-600 text-3xl rounded-full w-20 h-20 flex-shrink-0 flex items-center justify-center"><i class="fas fa-seedling"></i></div>
                    <div>
                        <h4 class="text-2xl font-bold">এটি কি স্বাস্থ্যকর ও নিরাপদ?</h4>
                        <p class="mt-2 text-lg text-gray-700">আপনার স্বাস্থ্যই আমাদের প্রথম অগ্রাধিকার। আমাদের মশলা সম্পূর্ণভাবে ক্ষতিকর কেমিক্যাল, টেস্টিং সল্ট, এবং প্রিজারভেটিভ মুক্ত। আমরা খাঁটি সরিষার তেল ব্যবহার করি এবং প্রতিটি ধাপেই পরিচ্ছন্নতা নিশ্চিত করি। তাই安心して পরিবারের সবাইকে নিয়ে উপভোগ করতে পারেন।</p>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row items-start gap-6">
                    <div class="bg-red-100 text-red-600 text-3xl rounded-full w-20 h-20 flex-shrink-0 flex items-center justify-center"><i class="fas fa-star"></i></div>
                    <div>
                        <h4 class="text-2xl font-bold">আপনাদের কথা বিশ্বাস করব কেন?</h4>
                        <p class="mt-2 text-lg text-gray-700">আমরা শুধু ব্যবসাই করি না, আমরা খাবারের প্রতি ভালোবাসা এবং ঐতিহ্যকে সম্মান করি। আমাদের লক্ষ্য শুধু একবার বিক্রি করা নয়, বরং আপনার আস্থার সম্পর্কে তৈরি করা। আমাদের শত শত সন্তুষ্ট গ্রাহকের রিভিউ এবং বারবার অর্ডার করাই আমাদের গুণগত মানের সবচেয়ে বড় প্রমাণ।</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Ingredients Section -->
        <section class="bg-white p-8 md:p-12 rounded-3xl shadow-xl animated-section">
            <h3 class="text-4xl font-extrabold text-center mb-10">কি কি থাকছে আমাদের মশলায়?</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="bg-green-50 p-6 rounded-2xl"><i class="fas fa-drumstick-bite text-6xl text-red-500 mb-4"></i><h4 class="text-xl font-bold">গরুর কিমা</h4></div>
                </div>
                <div class="transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="bg-green-50 p-6 rounded-2xl"><i class="fas fa-pepper-hot text-6xl text-green-600 mb-4"></i><h4 class="text-xl font-bold">বাছাই মশলা</h4></div>
                </div>
                <div class="transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="bg-green-50 p-6 rounded-2xl"><i class="fas fa-seedling text-6xl text-yellow-500 mb-4"></i><h4 class="text-xl font-bold">খাঁটি তেল</h4></div>
                </div>
                <div class="transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="bg-green-50 p-6 rounded-2xl"><i class="fas fa-heart text-6xl text-pink-500 mb-4"></i><h4 class="text-xl font-bold">আমাদের ভালোবাসা</h4></div>
                </div>
            </div>
        </section>

        <!-- Testimonial Section -->
        <section class="animated-section">
             <h3 class="text-4xl font-extrabold text-center mb-10">আমাদের ক্রেতারা যা বলছেন</h3>
             <div class="testimonial-card p-8 rounded-2xl shadow-lg">
                 <div class="flex items-center mb-4">
                     <img src="https://placehold.co/60x60/e2e8f0/334155?text=🧑" class="rounded-full mr-4 border-2 border-amber-300">
                     <div>
                         <p class="font-bold text-xl text-gray-800">আব্দুল করিম</p>
                         <p class="text-sm text-gray-500">ঢাকা, বাংলাদেশ</p>
                     </div>
                     <div class="ml-auto text-amber-400 flex space-x-1 text-2xl">
                        <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                     </div>
                 </div>
                 <p class="text-gray-700 text-lg italic">"সত্যি বলতে, আমি ভাবতেও পারিনি ঘরে বানানো ঝালমুড়ি এত মজার হতে পারে। মশলাটা অসাধারণ! ফ্লেভারটা একদম পারফেক্ট। ধন্যবাদ eFoodDokan!"</p>
             </div>
        </section>

        <!-- Image Gallery -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6 items-center animated-section">
            <img src="https://i.postimg.cc/brnHjRFQ/chalmuri-masla01-800x800.webp" alt="ঝালমুড়ি মশলার উপাদান" class="rounded-3xl shadow-xl w-full h-full object-cover transform hover:scale-105 transition-transform duration-300">
            <img src="https://i.postimg.cc/Y2Lxgpqh/Jhalmuri-Mosla1.webp" alt="তৈরি করা ঝালমুড়ির ছবি" class="rounded-3xl shadow-xl w-full h-full object-cover transform hover:scale-105 transition-transform duration-300">
        </section>

        <!-- Order Form Section -->
        <section id="orderFormSection" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl animated-section" style="display: none;">
            <div class="text-center mb-10">
                <h3 class="text-4xl font-extrabold">অর্ডার করতে ফর্মটি পূরণ করুন</h3>
                <p class="text-lg text-gray-600 mt-2">আপনার দেওয়া তথ্যের ভিত্তিতে আমরা দ্রুত আপনার সাথে যোগাযোগ করব।</p>
            </div>
            <form id="orderForm" class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-start">
                <div class="space-y-6">
                    <div>
                        <label for="name" class="block text-lg font-semibold text-gray-700 mb-2"><i class="fas fa-user mr-2 text-amber-600"></i>আপনার সম্পূর্ণ নাম *</label>
                        <input type="text" id="name" required class="input-field w-full p-4 text-lg rounded-xl" placeholder="নাম লিখুন">
                    </div>
                    <div>
                        <label for="phone" class="block text-lg font-semibold text-gray-700 mb-2"><i class="fas fa-phone-alt mr-2 text-amber-600"></i>মোবাইল নাম্বার *</label>
                        <input type="tel" id="phone" required class="input-field w-full p-4 text-lg rounded-xl" placeholder="সচল মোবাইল নাম্বার দিন">
                    </div>
                    <div>
                        <label for="address" class="block text-lg font-semibold text-gray-700 mb-2"><i class="fas fa-map-marker-alt mr-2 text-amber-600"></i>সম্পূর্ণ ঠিকানা *</label>
                        <textarea id="address" rows="4" required class="input-field w-full p-4 text-lg rounded-xl" placeholder="বাসা/হোল্ডিং, রোড, এলাকা, থানা ও জেলা"></textarea>
                    </div>
                    <div>
                        <label for="quantity" class="block text-lg font-semibold text-gray-700 mb-2"><i class="fas fa-boxes-packing mr-2 text-amber-600"></i>পরিমাণ *</label>
                        <select id="quantity" class="input-field w-full p-4 text-lg rounded-xl">
                            <option value="1">১ কেজি (৳১,১৯০)</option>
                            <option value="2">২ কেজি (৳২,২০০)</option>
                            <option value="3">৩ কেজি (৳৩,২০০)</option>
                            <option value="5">৫ কেজি (৳৫,০০০)</option>
                        </select>
                    </div>
                </div>
                <div class="bg-green-50 p-6 rounded-2xl border-2 border-green-200 sticky top-28">
                    <h4 class="text-2xl font-bold mb-5 text-center border-b-2 pb-3">অর্ডার সামারি</h4>
                    <div class="space-y-4 text-lg">
                        <div class="flex justify-between"><span>প্রোডাক্ট:</span> <span class="font-bold">স্পেশাল ঝালমুড়ি মশলা (<span id="summaryQuantity">১</span> কেজি)</span></div>
                        <div class="flex justify-between"><span>ডেলিভারি চার্জ:</span> <span class="font-bold text-green-600">ফ্রি</span></div>
                        <hr>
                        <div class="flex justify-between items-center text-3xl font-extrabold">
                            <span>সর্বমোট:</span>
                            <span class="text-green-600">৳<span id="summaryTotal">১,১৯০</span></span>
                        </div>
                    </div>
                    <div class="mt-6 bg-green-100 p-4 rounded-lg text-green-800 font-semibold text-center">
                        <i class="fas fa-money-bill-wave mr-2"></i>
                        ক্যাশ অন ডেলিভারি (পণ্য হাতে পেয়ে টাকা দিন)
                    </div>
                    <div class="mt-8">
                        <button type="submit" id="submitButton" class="w-full btn-submit text-white py-4 px-6 rounded-full font-bold text-xl flex items-center justify-center" disabled>
                            <i class="fas fa-check-circle mr-3"></i>
                            অর্ডার কনফার্ম করুন
                        </button>
                    </div>
                </div>
            </form>
        </section>

        <!-- Login Prompt for Order -->
        <section id="loginPromptSection" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl animated-section text-center">
            <div class="max-w-2xl mx-auto">
                <i class="fas fa-lock text-6xl text-amber-500 mb-6"></i>
                <h3 class="text-3xl font-extrabold mb-4">অর্ডার করতে লগইন করুন</h3>
                <p class="text-lg text-gray-600 mb-8">আপনার অর্ডার হিস্টোরি সংরক্ষণ এবং একাধিক পণ্য অর্ডার করতে গুগল অ্যাকাউন্ট দিয়ে লগইন করুন</p>
                <button id="loginPromptBtn" class="google-btn py-3 px-8 rounded-full font-bold text-lg inline-flex items-center">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" class="w-6 h-6 mr-3 bg-white p-1 rounded-full">
                    গুগল দিয়ে লগইন করুন
                </button>
            </div>
        </section>

        <!-- Order History Section -->
        <section id="orderHistorySection" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl animated-section">
            <h3 class="text-4xl font-extrabold text-center mb-10">আপনার পূর্ববর্তী অর্ডারসমূহ</h3>
            <div id="historyContainer" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                <p id="noHistoryMessage" class="text-center text-gray-500 text-lg">এখানে আপনার কোনো অর্ডার পাওয়া যায়নি।</p>
            </div>
        </section>

    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-800 text-white pt-12 pb-8">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="font-bold text-2xl text-amber-300">যেকোনো প্রয়োজনে কল করুন</p>
            <a href="tel:01600086210" class="text-4xl font-bold text-white my-3 inline-block hover:text-amber-300 transition-colors">
                <i class="fas fa-phone-volume"></i> 01600-086210
            </a>
            <p class="text-gray-400 text-sm mt-6">&copy; 2024 eFoodDokan.com | সর্বস্বত্ব সংরক্ষিত।</p>
        </div>
    </footer>

    <!-- Confirmation & Print Modal -->
    <div id="confirmationModal" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-[1000]" style="display: none;">
        <div class="modal-content w-11/12 max-w-lg bg-white rounded-3xl shadow-2xl relative">
            <button id="closeModal" class="absolute top-4 right-4 text-gray-400 hover:text-gray-800 text-2xl no-print">&times;</button>
            <div id="printable-receipt" class="p-8 md:p-12">
                <div class="text-center">
                    <i class="fas fa-check-circle text-green-500 text-7xl"></i>
                    <h2 class="text-3xl font-extrabold text-gray-800 mt-5 mb-2">অর্ডারটি সফলভাবে গৃহীত হয়েছে!</h2>
                    <p class="text-gray-600 text-lg mb-6">আমাদের প্রতিনিধি শীঘ্রই আপনার সাথে যোগাযোগ করবে। আপনার অর্ডারের বিবরণ নিচে দেওয়া হলো:</p>
                </div>
                <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-6 space-y-3 text-lg">
                    <p><strong>অর্ডার আইডি:</strong> <span id="confOrderId"></span></p>
                    <p><strong>নাম:</strong> <span id="confName"></span></p>
                    <p><strong>ফোন:</strong> <span id="confPhone"></span></p>
                    <p><strong>ঠিকানা:</strong> <span id="confAddress"></span></p>
                    <p><strong>পরিমাণ:</strong> <span id="confQuantity"></span></p>
                    <p><strong>তারিখ:</strong> <span id="confDate"></span></p>
                    <hr class="my-3">
                    <p class="text-xl font-bold"><strong>সর্বমোট বিল:</strong> <span id="confTotal" class="text-green-600">৳ ১,১৯০</span></p>
                </div>
                <div class="mt-8 text-center no-print">
                    <button id="printButton" class="bg-gray-800 text-white py-3 px-8 rounded-full font-bold text-lg hover:bg-gray-900 transform hover:scale-105 transition-all">
                        <i class="fas fa-print mr-2"></i> প্রিন্ট করুন
                    </button>
                    <button id="newOrderButton" class="bg-amber-500 text-white py-3 px-8 rounded-full font-bold text-lg hover:bg-amber-600 transform hover:scale-105 transition-all ml-4">
                        <i class="fas fa-plus mr-2"></i> নতুন অর্ডার
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCTvWKR6pt8HrHoiDHo3wqoSXtXdXJjHHQ",
            authDomain: "priya-ai-q14sj.firebaseapp.com",
            projectId: "priya-ai-q14sj",
            storageBucket: "priya-ai-q14sj.appspot.com",
            messagingSenderId: "113852032496",
            appId: "1:113852032496:web:a6156f264323f54d9ae935",
            measurementId: "G-4VFJ2W36XH"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const orderForm = document.getElementById('orderForm');
            const submitButton = document.getElementById('submitButton');
            const requiredFields = Array.from(orderForm.querySelectorAll('[required]'));
            const confirmationModal = document.getElementById('confirmationModal');
            const closeModal = document.getElementById('closeModal');
            const printButton = document.getElementById('printButton');
            const newOrderButton = document.getElementById('newOrderButton');
            const historyContainer = document.getElementById('historyContainer');
            const noHistoryMessage = document.getElementById('noHistoryMessage');
            const loginModal = document.getElementById('loginModal');
            const closeLoginModal = document.getElementById('closeLoginModal');
            const googleLoginBtn = document.getElementById('googleLoginBtn');
            const loginBtn = document.getElementById('loginBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const userProfile = document.getElementById('userProfile');
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const orderNowBtn = document.getElementById('orderNowBtn');
            const loginPromptBtn = document.getElementById('loginPromptBtn');
            const orderFormSection = document.getElementById('orderFormSection');
            const loginPromptSection = document.getElementById('loginPromptSection');
            const quantitySelect = document.getElementById('quantity');
            const summaryQuantity = document.getElementById('summaryQuantity');
            const summaryTotal = document.getElementById('summaryTotal');
            
            // Price mapping
            const prices = {
                '1': { quantity: '১ কেজি', price: '১,১৯০' },
                '2': { quantity: '২ কেজি', price: '২,২০০' },
                '3': { quantity: '৩ কেজি', price: '৩,২০০' },
                '5': { quantity: '৫ কেজি', price: '৫,০০০' }
            };

            // Quantity change handler
            quantitySelect.addEventListener('change', function() {
                const selectedValue = this.value;
                summaryQuantity.textContent = selectedValue;
                summaryTotal.textContent = prices[selectedValue].price;
            });

            // Check form validity
            function checkFormValidity() {
                const allValid = requiredFields.every(field => field.value.trim() !== '');
                submitButton.disabled = !allValid;
            }

            // Display order history from Firestore
            function displayOrderHistory(userId) {
                historyContainer.innerHTML = ''; // Clear previous history

                db.collection('orders').where('userId', '==', userId).orderBy('timestamp', 'desc')
                    .get()
                    .then((querySnapshot) => {
                        if (querySnapshot.empty) {
                            historyContainer.appendChild(noHistoryMessage);
                            noHistoryMessage.style.display = 'block';
                        } else {
                            noHistoryMessage.style.display = 'none';
                            querySnapshot.forEach((doc) => {
                                const order = doc.data();
                                const orderCard = document.createElement('div');
                                orderCard.className = 'bg-green-50 p-4 rounded-xl border border-green-200 flex justify-between items-center hover:bg-green-100 transition-colors cursor-pointer';
                                orderCard.innerHTML = `
                                    <div>
                                        <p class="font-bold">অর্ডার আইডি: ${order.orderId}</p>
                                        <p class="text-sm text-gray-600">তারিখ: ${order.date}</p>
                                    </div>
                                    <p class="font-bold text-green-600 text-lg">৳ ${order.total}</p>
                                `;
                                orderCard.addEventListener('click', () => showOrderDetails(order));
                                historyContainer.appendChild(orderCard);
                            });
                        }
                    })
                    .catch((error) => {
                        console.error("Error getting orders: ", error);
                        historyContainer.appendChild(noHistoryMessage);
                        noHistoryMessage.style.display = 'block';
                    });
            }

            // Show order details in modal
            function showOrderDetails(order) {
                document.getElementById('confOrderId').textContent = order.orderId;
                document.getElementById('confName').textContent = order.name;
                document.getElementById('confPhone').textContent = order.phone;
                document.getElementById('confAddress').textContent = order.address;
                document.getElementById('confQuantity').textContent = order.quantity;
                document.getElementById('confDate').textContent = `${order.date}, ${order.time}`;
                document.getElementById('confTotal').textContent = `৳ ${order.total}`;
                
                confirmationModal.style.display = 'flex';
            }

            // Handle form submission
            function handleFormSubmit(e) {
                e.preventDefault();
                if (submitButton.disabled) return;

                const name = document.getElementById('name').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                const quantity = quantitySelect.value;
                const quantityText = prices[quantity].quantity;
                const totalPrice = prices[quantity].price;
                const orderDate = new Date();
                const user = auth.currentUser;
                
                const newOrder = {
                    orderId: `JM-${Date.now().toString().slice(-6)}`,
                    userId: user.uid,
                    name: name,
                    phone: phone,
                    address: address,
                    quantity: quantityText,
                    date: orderDate.toLocaleDateString('bn-BD'),
                    time: orderDate.toLocaleTimeString('bn-BD'),
                    total: totalPrice,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                };

                // Save to Firestore
                db.collection('orders').add(newOrder)
                    .then(() => {
                        // Display Confirmation
                        document.getElementById('confOrderId').textContent = newOrder.orderId;
                        document.getElementById('confName').textContent = newOrder.name;
                        document.getElementById('confPhone').textContent = newOrder.phone;
                        document.getElementById('confAddress').textContent = newOrder.address;
                        document.getElementById('confQuantity').textContent = newOrder.quantity;
                        document.getElementById('confDate').textContent = `${newOrder.date}, ${newOrder.time}`;
                        document.getElementById('confTotal').textContent = `৳ ${newOrder.total}`;
                        
                        confirmationModal.style.display = 'flex';
                        
                        // Reset form and update history
                        orderForm.reset();
                        checkFormValidity();
                        displayOrderHistory(user.uid);
                    })
                    .catch((error) => {
                        console.error("Error adding order: ", error);
                        alert("অর্ডার সাবমিট করতে সমস্যা হয়েছে। দয়া করে আবার চেষ্টা করুন।");
                    });
            }
            
            // Google Sign-In
            function googleSignIn() {
                const provider = new firebase.auth.GoogleAuthProvider();
                auth.signInWithPopup(provider)
                    .then((result) => {
                        // User signed in
                        loginModal.style.display = 'none';
                        updateUserProfile(result.user);
                        
                        // Show order form and hide login prompt
                        orderFormSection.style.display = 'block';
                        loginPromptSection.style.display = 'none';
                        
                        // Load user's order history
                        displayOrderHistory(result.user.uid);
                    })
                    .catch((error) => {
                        console.error("Google sign-in error: ", error);
                        alert("লগইনে সমস্যা হয়েছে। দয়া করে আবার চেষ্টা করুন।");
                    });
            }

            // Sign out
            function signOut() {
                auth.signOut().then(() => {
                    // Hide user profile and show login button
                    userProfile.style.display = 'none';
                    loginBtn.style.display = 'inline-block';
                    
                    // Hide order form and show login prompt
                    orderFormSection.style.display = 'none';
                    loginPromptSection.style.display = 'block';
                    
                    // Clear order history
                    historyContainer.innerHTML = '';
                    noHistoryMessage.style.display = 'block';
                });
            }

            // Update user profile in UI
            function updateUserProfile(user) {
                if (user) {
                    // Show user profile and hide login button
                    userProfile.style.display = 'flex';
                    loginBtn.style.display = 'none';
                    
                    // Set user info
                    userName.textContent = user.displayName || 'ব্যবহারকারী';
                    userAvatar.src = user.photoURL || 'https://placehold.co/40x40/e2e8f0/334155?text=?';
                    userAvatar.alt = user.displayName || 'ব্যবহারকারী';
                }
            }

            // Auth state change handler
            auth.onAuthStateChanged((user) => {
                if (user) {
                    // User is signed in
                    updateUserProfile(user);
                    
                    // Show order form and hide login prompt
                    orderFormSection.style.display = 'block';
                    loginPromptSection.style.display = 'none';
                    
                    // Load user's order history
                    displayOrderHistory(user.uid);
                } else {
                    // User is signed out
                    userProfile.style.display = 'none';
                    loginBtn.style.display = 'inline-block';
                    
                    // Hide order form and show login prompt
                    orderFormSection.style.display = 'none';
                    loginPromptSection.style.display = 'block';
                }
            });

            // Event listeners
            orderForm.addEventListener('submit', handleFormSubmit);
            requiredFields.forEach(field => field.addEventListener('input', checkFormValidity));

            closeModal.addEventListener('click', () => confirmationModal.style.display = 'none');
            printButton.addEventListener('click', () => window.print());
            newOrderButton.addEventListener('click', () => {
                confirmationModal.style.display = 'none';
                window.location.href = '#orderFormSection';
            });

            loginBtn.addEventListener('click', () => loginModal.style.display = 'flex');
            closeLoginModal.addEventListener('click', () => loginModal.style.display = 'none');
            googleLoginBtn.addEventListener('click', googleSignIn);
            loginPromptBtn.addEventListener('click', () => loginModal.style.display = 'flex');
            logoutBtn.addEventListener('click', signOut);
            orderNowBtn.addEventListener('click', () => {
                if (auth.currentUser) {
                    window.location.href = '#orderFormSection';
                } else {
                    loginModal.style.display = 'flex';
                }
            });

            // Initial Load
            checkFormValidity();

            // Intersection Observer for animations
            const animatedSections = document.querySelectorAll('.animated-section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationDelay = `${Array.from(animatedSections).indexOf(entry.target) * 0.1}s`;
                        entry.target.classList.add('is-visible');
                        entry.target.style.opacity = '1';
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            animatedSections.forEach(section => observer.observe(section));
        });
    </script>

</body>
                           </html>
